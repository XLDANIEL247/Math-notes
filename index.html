<script>
    // THE "ENGINE" URL - This is the satellite signal
    // You can change this URL if it ever gets blocked
    const proxyGate = "https://uv.student-unblock.workers.dev/main/"; 

    function openApp(url) {
        const overlay = document.getElementById('app-overlay');
        const frame = document.getElementById('app-frame');
        
        // We use 'Base64' encoding to hide the URL from the network filter
        let encodedUrl = btoa(url).replace(/\//g, '_').replace(/\+/g, '-');
        
        // This combines your UI with the Proxy Engine
        frame.src = proxyGate + encodedUrl;
        overlay.style.display = 'block';
    }

    // This handles the Search Tab
    function handleSearch(e) {
        if (e.key === 'Enter') {
            let q = e.target.value;
            let targetUrl = "";

            if (q.includes('.') && !q.includes(' ')) {
                targetUrl = q.startsWith('http') ? q : 'https://' + q;
            } else {
                targetUrl = 'https://duckduckgo.com/?q=' + encodeURIComponent(q);
            }
            
            document.getElementById('history').innerText = "Recent: " + q;
            openApp(targetUrl);
        }
    }

    // ... Keep your Login and Tab switching functions ...
</script>